# racket-gui-plus 跨平台控件库开发规范

## 1. 目标
- 保持 macOS 风格为默认主题  
- 支持 Windows / Linux 平台  
- 保证跨平台控件外观和核心交互一致  
- 明确哪些控件行为不必实现或只能模拟

---

## 2. 原子控件 (Atomic)

| 控件 | 核心功能 | 跨平台可行 | 不实现/可选行为 |
|------|----------|------------|----------------|
| Button | 点击、hover、pressed、disabled | √ | 系统原生阴影或材质动画 |
| Label | 文本显示、颜色、字体 | √ | macOS Dynamic Type 动态字体 |
| TextField | 输入、光标、焦点、文本选择 | √ | macOS 原生输入法动画 |
| TextArea | 多行输入、滚动 | √ | 内嵌 placeholder 动画 |
| Switch | 状态切换、动画 | √ | Touch Bar 风格滑动 |
| Checkbox | 勾选/状态 | √ | macOS 动态渐变/阴影动画 |
| RadioButton | 单选状态 | √ | macOS 原生按钮组动画 |
| Slider | 拖动、值改变 | √ | 高级渐变或刻度动画 |
| Stepper | 点击 + / - 调整值 | √ | 微动画可忽略 |
| Icon | 图标显示 | √ | SF Symbols 高级特效 |

---

## 3. 复合控件 (Composite)

| 控件 | 组合元素 | 跨平台可行 | 不实现/可选行为 |
|------|----------|------------|----------------|
| InputField | Label + TextField | √ | placeholder 动画可忽略 |
| FilterButton | Button + Icon | √ | hover 渐变动画可简化 |
| ProgressBar | Slider + 填充 + 动画 | √ | 高级渐变/条纹动画可忽略 |
| SearchField | TextField + ClearButton + Icon | √ | 放大镜动画可简化 |
| StepperInput | TextField + Stepper | √ | 微动画可忽略 |
| SegmentedControl | Button 组 | √ | 分段动画可忽略 |

---

## 4. 容器控件 (Container)

| 控件 | 功能 | 跨平台可行 | 不实现/可选行为 |
|------|------|------------|----------------|
| SidePanel | 可折叠/拖拽布局 | √ | macOS 弹性动画可忽略 |
| SidebarList | 列表布局管理 | √ | 选中渐变动画可忽略 |
| SplitView | 拖拽分割 | √ | 微动画可忽略 |
| TabView | 标签页切换 | √ | 高级过渡动画可忽略 |
| ScrollView | 滚动 | √ | 弹性滚动可忽略 |
| StackView | 堆叠布局 | √ | 动态布局动画可忽略 |

---

## 5. 应用控件 (Application)

| 控件 | 功能 | 跨平台可行 | 不实现/可选行为 |
|------|------|------------|----------------|
| Calendar | 日期选择 | √ | 高级 macOS 交互可忽略 |
| TimePicker | 时间选择 | √ | 高级滚轮动画可忽略 |
| DateTimePicker | 日期+时间组合 | √ | 同上 |
| Todo | 待办事项列表 | √ | 拖拽动画可忽略 |
| TableView | 表格，可排序/选择 | √ | 高级表格动画可忽略 |
| ToastInfo | 弹窗提示 | √ | 弹窗阴影/动画可简化 |
| Alert | 弹窗确认/警告 | √ | 系统模态弹窗效果可简化 |
| Menu | 下拉菜单 | √ | 菜单栏集成可忽略，仅模拟下拉菜单 |

---

## 6. 核心约束

1. **行为实现原则**
   - 核心交互（点击、输入、拖拽、选择）必须实现  
   - 高级视觉效果（渐变、阴影、弹性、微动画）可参数化或简化  
   - 不依赖系统原生控件，保证跨平台一致性

2. **主题与样式**
   - 所有颜色、圆角、阴影、动画参数统一由 `style-config.rkt` 控制  
   - macOS 为默认主题，Windows/Linux 可切换主题

3. **复用原则**
   - 原子控件优先，复合控件复用原子控件  
   - 容器控件复用复合控件，应用控件组合容器控件

4. **文档约束**
   - 所有控件必须标注：
     - 是否跨平台可行  
     - 哪些行为/动画可省略或简化

### 主题与暗色模式约束

1. 所有控件绘制必须引用当前主题（`style-config.rkt`），包括：
   - 背景颜色
   - 前景颜色（文字/图标）
   - 边框颜色
   - 阴影/高光
   - 动画参数（可选渐变）
2. 默认主题为 macOS 风格 light-theme；dark-theme 为暗色模式。
3. 所有原子控件、复合控件、容器控件、应用控件都必须支持主题切换。
4. 切换主题时：
   - 只需更改全局主题并刷新顶层容器  
   - 子控件颜色自动更新，不需修改控件内部逻辑
5. 高级视觉效果（渐变、微动画、阴影深度）可根据平台简化，不影响主题切换功能。
